"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[661],{129:(e,r,t)=>{t.d(r,{N:()=>l});var a=t(1564),s=t(5603);let o=s.env.NEXT_PUBLIC_SUPABASE_URL||"",n=s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"",i=n||"placeholder-key";o&&n||console.warn("Supabase environment variables are not set"),n&&(n.includes("service_role")||n.length>200)&&console.error("ERROR: You are using the service role key instead of the anon key! The service role key should NEVER be used in the browser. Please use NEXT_PUBLIC_SUPABASE_ANON_KEY from your Supabase project settings.");let l=(0,a.UU)(o||"https://placeholder.supabase.co",i,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:{getItem:e=>{try{return window.localStorage.getItem(e)}catch(e){return console.error("Error reading from localStorage:",e),null}},setItem:(e,r)=>{try{window.localStorage.setItem(e,r)}catch(e){console.error("Error writing to localStorage:",e)}},removeItem:e=>{try{window.localStorage.removeItem(e)}catch(e){console.error("Error removing from localStorage:",e)}}},storageKey:"supabase.auth.token",flowType:"pkce"}})},1558:(e,r,t)=>{t.d(r,{Ay:()=>l,gV:()=>s,lM:()=>i});let a=(0,t(1618).Z0)({name:"user",initialState:{userRole:"default",userId:"",email:"",firstName:"",lastName:"",isAuthenticated:!1},reducers:{setUser:(e,r)=>{e.userId=r.payload.userId,e.email=r.payload.email,e.firstName=r.payload.firstName,e.lastName=r.payload.lastName,e.userRole=r.payload.userRole||"default",e.isAuthenticated=!0},setUserRole:(e,r)=>{e.userRole=r.payload},setUserId:(e,r)=>{e.userId=r.payload},clearUser:e=>{e.userRole="default",e.userId="",e.email="",e.firstName="",e.lastName="",e.isAuthenticated=!1}}}),{setUser:s,setUserRole:o,setUserId:n,clearUser:i}=a.actions,l=a.reducer},2471:(e,r,t)=>{t.d(r,{G:()=>o,j:()=>s});var a=t(5978);let s=()=>(0,a.wA)(),o=a.d4},3397:(e,r,t)=>{t.d(r,{y:()=>o});var a=t(3646);class s{async signUp(e){try{let r=await a.v.signUp(e);return{success:!0,data:r}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An error occurred"}}}async signIn(e){try{let r=await a.v.signIn(e);return{success:!0,data:r}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An error occurred"}}}async signOut(){try{return await a.v.signOut(),{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An error occurred"}}}async resetPassword(e){try{return await a.v.resetPassword(e),{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An error occurred"}}}async updatePassword(e){try{return await a.v.updatePassword(e),{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An error occurred"}}}}let o=new s},3646:(e,r,t)=>{t.d(r,{v:()=>o});var a=t(129);class s{async signUp(e){let{email:r,password:t,firstName:s,lastName:o}=e,{data:n,error:i}=await a.N.auth.signUp({email:r,password:t,options:{data:{first_name:s,last_name:o}}});if(i)throw Error(i.message);if(!n.user)throw Error("Failed to create user");if(n.session){let{error:e}=await a.N.from("profiles").insert({id:n.user.id,email:r,first_name:s,last_name:o});e&&console.error("Profile creation error:",e)}return n}async signIn(e){let{email:r,password:t}=e,{data:s,error:o}=await a.N.auth.signInWithPassword({email:r,password:t});if(o)throw Error(o.message);return s}async signOut(){let{error:e}=await a.N.auth.signOut();if(e)throw Error(e.message)}async resetPassword(e){let r="".concat(window.location.origin,"/reset-password"),{error:t}=await a.N.auth.resetPasswordForEmail(e,{redirectTo:r});if(t)throw Error(t.message)}async updatePassword(e){let{error:r}=await a.N.auth.updateUser({password:e});if(r)throw Error(r.message)}async getCurrentUser(){let{data:{user:e},error:r}=await a.N.auth.getUser();if(r)throw Error(r.message);return e}async getProfile(e){let{data:r,error:t}=await a.N.from("profiles").select("*").eq("id",e).single();if(t){if("PGRST116"===t.code)return null;throw Error(t.message)}return r}async updateProfile(e,r){let{data:t,error:s}=await a.N.from("profiles").update({...r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw Error(s.message);return t}}let o=new s},7661:(e,r,t)=>{t.d(r,{A:()=>U});var a=t(8481),s=t(8526),o=t(411),n=t(5611),i=t(9381),l=t(9060),c=t(2040),u=t(4116),d=t(3973),h=t(9432),m=t(4816),g=t.n(m),A=t(4788),p=t(2570),f=t(2471);function w(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function x(e){let{currentTab:r,setCurrentTab:t,tabOrientation:s}=e,o=(0,d.useRouter)(),n="admin"===(0,f.G)(e=>e.user.userRole),i="vertical"===s?"min-w-[300px] min-h-[75px] text-lg font-medium normal-case leading-[27px]":"text-lg font-medium normal-case leading-[27px]";return(0,a.jsxs)(p.A,{value:r,onChange:(e,r)=>{t(r);let a=n?["/","/initiatives","/impact","/resources","/team","/calendar","/admin"]:["/","/initiatives","/impact","/resources","/team","/calendar"];a[r]&&o.push(a[r])},orientation:s,sx:{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{color:"#60A5FA",minWidth:"auto",padding:"12px 24px",position:"relative","&:hover":{"&::after":{content:'""',position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)",width:"60%",height:"2px",backgroundColor:"#76a36d"}},"&.Mui-selected":{color:"#60A5FA","&::after":{content:'""',position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)",width:"60%",height:"2px",backgroundColor:"#76a36d"}}}},children:[(0,a.jsx)(A.A,{label:"Home",...w(0),className:i}),(0,a.jsx)(A.A,{label:"Initiatives",...w(1),className:i}),(0,a.jsx)(A.A,{label:"Impact",...w(2),className:i}),(0,a.jsx)(A.A,{label:"Resources",...w(3),className:i}),(0,a.jsx)(A.A,{label:"Team",...w(4),className:i}),(0,a.jsx)(A.A,{label:"Calendar",...w(5),className:i}),n&&(0,a.jsx)(A.A,{label:"Admin",...w(6),className:i})]})}var b=t(8216),v=t(8530),N=t(5673),y=t(1558),j=t(3397);function E(){let[e,r]=(0,s.useState)(null),t=(0,d.useRouter)(),o=(0,f.j)(),{firstName:n,lastName:l}=(0,f.G)(e=>e.user),c=()=>{r(null)},u=async()=>{c(),(await j.y.signOut()).success&&(o((0,y.lM)()),t.push("/"),t.refresh())};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{onClick:e=>{r(e.currentTarget)},size:"small",sx:{ml:2,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:(0,a.jsx)(b.A,{sx:{width:32,height:32,bgcolor:"#76a36d",color:"#050a1f",fontSize:"14px",fontWeight:600},children:((null==n?void 0:n.charAt(0).toUpperCase())||"")+((null==l?void 0:l.charAt(0).toUpperCase())||"")||"U"})}),(0,a.jsxs)(v.A,{anchorEl:e,open:!!e,onClose:c,onClick:c,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,a.jsx)(N.A,{onClick:()=>{c(),t.push("/profile")},sx:{color:"#020B2C"},children:"Profile"}),(0,a.jsx)(N.A,{onClick:u,sx:{color:"#020B2C"},children:"Logout"})]})]})}let C={src:"/_next/static/media/logo.49f565d1.png",height:37,width:106,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAMFBMVEV3e42HiZqAhZWnqbSztsCTlqW5vcdqbYGcnKutsLmPlKJKUGdHTmaHi5qYnKhUW3E8jtkvAAAAEHRSTlN9IJuumWaFTzRrN3tuiXyXjGyjIAAAAAlwSFlzAAALEwAACxMBAJqcGAAAACNJREFUeJxj4GBk5OJj5GVlYGFm4WRh42ZnYGJiYGJg4OcBAAdpAIc5a9chAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3};function U(){let[e,r]=(0,s.useState)(0),[t,m]=(0,s.useState)(!1),[A,p]=(0,s.useState)(0),w=(0,d.usePathname)(),b=(0,d.useRouter)(),v=(0,f.G)(e=>e.user.isAuthenticated);(0,s.useEffect)(()=>{{p(window.innerWidth);let e=()=>{p(window.innerWidth),m(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}},[]);let N="admin"===(0,f.G)(e=>e.user.userRole);(0,s.useEffect)(()=>{let e=(N?["/","/initiatives","/impact","/resources","/team","/calendar","/admin"]:["/","/initiatives","/impact","/resources","/team","/calendar"]).indexOf(w);-1!==e&&r(e)},[w,N]);let y=A<(v?1400:1050)&&A>0;return(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(o.A,{position:"sticky",className:"top-0 z-50",style:{backgroundColor:"#050a1f"},children:(0,a.jsxs)(n.A,{className:"flex items-center justify-between px-[6%]",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(g(),{href:"/",className:"no-underline flex items-center",children:(0,a.jsx)(h.default,{src:C,alt:"Tech+ UW Logo",width:100,height:50,className:"object-contain"})})}),(0,a.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2",children:(0,a.jsx)(x,{currentTab:e,setCurrentTab:r,tabOrientation:"horizontal"})}),y?(0,a.jsxs)(a.Fragment,{children:[v&&(0,a.jsx)(E,{}),(0,a.jsx)(i.A,{edge:"end",color:"inherit",onClick:()=>m(!0),className:"text-white",children:(0,a.jsx)(c.A,{})}),(0,a.jsx)(l.Ay,{anchor:"right",open:t,onClose:()=>m(!1),children:(0,a.jsx)("div",{onClick:()=>m(!1),className:"min-w-[300px]",children:(0,a.jsx)(x,{currentTab:e,setCurrentTab:r,tabOrientation:"vertical"})})})]}):(0,a.jsx)("div",{className:"flex items-center gap-3",children:v?(0,a.jsx)(E,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{variant:"outlined",onClick:()=>{b.push("/login")},className:"text-white border-white normal-case",children:"Login"}),(0,a.jsx)(u.A,{variant:"contained",onClick:()=>{b.push("/signup")},className:"normal-case text-white",sx:{backgroundColor:"#76a36d","&:hover":{backgroundColor:"#5d8a55"}},children:"Sign Up"})]})})]})})})}}}]);